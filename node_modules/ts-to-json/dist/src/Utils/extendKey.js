"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.extendKey = exports.shouldExtendKey = void 0;
const _1 = require(".");
const shouldExtendKey = (context, config) => {
    if (!(0, _1.hasLimitOptions)(config))
        return false;
    if (!context.hasParentContextRecreance())
        return false;
    return true;
};
exports.shouldExtendKey = shouldExtendKey;
const extendKey = (key, node, context, config, ignoredIfSameAsConfigTypeName) => {
    const sameAsConfigType = ignoredIfSameAsConfigTypeName && (0, _1.getNodeName)(node) !== config.type ? false : true;
    if (!(0, exports.shouldExtendKey)(context, config) || !sameAsConfigType)
        return key;
    const ref = context.getReference();
    if (!ref)
        return key;
    const refTypeName = (0, _1.getTypeReferenceNodeName)(ref);
    if (!refTypeName)
        return key;
    return `${key}-${refTypeName}`;
};
exports.extendKey = extendKey;
//# sourceMappingURL=extendKey.js.map